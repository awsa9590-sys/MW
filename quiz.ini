<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اختبار قانون التأمين</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 20px;
            direction: rtl;
            text-align: right;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #0056b3;
            text-align: center;
            border-bottom: 2px solid #0056b3;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        .section-title {
            color: #007bff;
            border-right: 4px solid #007bff;
            padding-right: 10px;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        .question {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .question p {
            font-weight: bold;
            margin-bottom: 10px;
            color: #555;
        }
        label {
            display: block;
            margin-bottom: 8px;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        label:hover {
            background-color: #eaeaea;
        }
        input[type="text"] {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 70%;
            transition: border-color 0.3s;
        }
        input[type="text"]:focus {
            border-color: #007bff;
            outline: none;
        }
        button {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 30px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #218838;
        }
        #result {
            margin-top: 20px;
            padding: 20px;
            border: 2px dashed #0056b3;
            border-radius: 8px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            display: none; /* Hide initially */
        }
        .feedback {
            margin-top: 5px;
            padding: 5px;
            border-radius: 4px;
            font-size: 14px;
        }
        .correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>اختبار قانون التأمين</h1>
    <form id="quizForm">

        <h2 class="section-title">1. اختر من متعدد</h2>

        <div class="question">
            <p>1. أي من الخصائص التالية تُعد صفة جوهرية لعقد التأمين وتجعل الزمن عنصرًا أساسيًا فيه؟</p>
            <label><input type="radio" name="mcq1" value="a"> عقد إذعان</label>
            <label><input type="radio" name="mcq1" value="b"> عقد رضائي</label>
            <label><input type="radio" name="mcq1" value="c"> عقد زمني</label>
            <label><input type="radio" name="mcq1" value="d"> عقد ملزم للجانبين</label>
            <div id="feedback_mcq1" class="feedback" style="display:none;"></div>
        </div>

        <div class="question">
            <p>2. الهدف الأساسي من التأمين التعاوني هو:</p>
            <label><input type="radio" name="mcq2" value="a"> تحقيق الربح للمساهمين.</label>
            <label><input type="radio" name="mcq2" value="b"> تحقيق التضامن بين الأعضاء لتغطية الخسائر.</label>
            <label><input type="radio" name="mcq2" value="c"> دفع قسط ثابت مسبقًا.</label>
            <label><input type="radio" name="mcq2" value="d"> عدم وجود علاقة بين الاشتراكات والتعويضات.</label>
            <div id="feedback_mcq2" class="feedback" style="display:none;"></div>
        </div>

        <div class="question">
            <p>3. العقد الذي لا يعرف فيه الطرفان وقت إبرامه مقدار ما سيأخذه أو ما سيتحمله، يُسمى:</p>
            <label><input type="radio" name="mcq3" value="a"> عقد إذعان</label>
            <label><input type="radio" name="mcq3" value="b"> عقد ملزم للجانبين</label>
            <label><input type="radio" name="mcq3" value="c"> عقد رضائي</label>
            <label><input type="radio" name="mcq3" value="d"> عقد احتمالي</label>
            <div id="feedback_mcq3" class="feedback" style="display:none;"></div>
        </div>

        <div class="question">
            <p>4. التأمين الذي يلتزم فيه المؤمن بدفع مبلغ في تاريخ معين للمؤمن له إن ظل حيًا، وإلا إلى المستفيد إذا مات قبل التاريخ، يسمى تأمين:</p>
            <label><input type="radio" name="mcq4" value="a"> لحالة الوفاة المؤقت.</label>
            <label><input type="radio" name="mcq4" value="b"> التأمين المختلط البسيط.</label>
            <label><input type="radio" name="mcq4" value="c"> لحال البقاء.</label>
            <label><input type="radio" name="mcq4" value="d"> من الحوادث الجسمانية.</label>
            <div id="feedback_mcq4" class="feedback" style="display:none;"></div>
        </div>
        
        <div class="question">
            <p>5. تظهر صفة حسن النية في عقد التأمين بناءً على:</p>
            <label><input type="radio" name="mcq5" value="a"> إلزامية الكتابة للانعقاد.</label>
            <label><input type="radio" name="mcq5" value="b"> اعتماد المؤمن على صحة البيانات المحيطة بالخطر.</label>
            <label><input type="radio" name="mcq5" value="c"> أن العقد زمني.</label>
            <label><input type="radio" name="mcq5" value="d"> أن العقد يتم بالإذعان للشروط العامة.</label>
            <div id="feedback_mcq5" class="feedback" style="display:none;"></div>
        </div>


        <h2 class="section-title">2. أكمل الفراغ</h2>

        <div class="question">
            <p>1. يُعرف التأمين فنيًا بأنه وسيلة لتعويض الفرد عن الخسارة المالية التي تحل به نتيجة وقوع خطر معين، وذلك بواسطة توزيع هذه الخسارة على مجموعة كبيرة من الأفراد، يكون جميعهم معرضين لـ **<input type="text" name="fill1" id="fill1">**.</p>
            <div id="feedback_fill1" class="feedback" style="display:none;"></div>
        </div>

        <div class="question">
            <p>2. يتميز عقد التأمين بكونه **<input type="text" name="fill2" id="fill2">** لأنه ينشئ التزامات متقابلة بين الطرفين، فكل متعاقد يتجه إيجاب بأداءات معينة.</p>
            <div id="feedback_fill2" class="feedback" style="display:none;"></div>
        </div>

        <div class="question">
            <p>3. يُعد التأمين على **<input type="text" name="fill3" id="fill3">** أو التأمين ضد السرقة من الأمثلة على التأمين على الأشياء.</p>
            <div id="feedback_fill3" class="feedback" style="display:none;"></div>
        </div>

        <div class="question">
            <p>4. في عقد الإذعان، تكمن الصفة في الشروط **<input type="text" name="fill4" id="fill4">** التي تعدها شركات التأمين نماذج معدة مسبقًا.</p>
            <div id="feedback_fill4" class="feedback" style="display:none;"></div>
        </div>

        <div class="question">
            <p>5. الدافع وراء التأمين الخاص هو **<input type="text" name="fill5" id="fill5">**، بينما التأمين الاجتماعي يقوم على فكرة التضامن الاجتماعي.</p>
            <div id="feedback_fill5" class="feedback" style="display:none;"></div>
        </div>


        <h2 class="section-title">3. تصحيح العبارات الخاطئة</h2>
        
        <p style="font-style: italic; color: #777;">* أدخل الكلمة أو العبارة الصحيحة التي تحل محل الكلمة/العبارة الخاطئة المحددة (ما كان تحته خط في الأسئلة الأصلية).</p>

        <div class="question">
            <p>1. التأمين التجاري ذو القسط الثابت هو الذي يسعى دائمًا إلى تحقيق **التضامن الاجتماعي** بين أعضائه فقط.</p>
            <p>التصحيح: **<input type="text" name="corr1" id="corr1">**</p>
            <div id="feedback_corr1" class="feedback" style="display:none;"></div>
        </div>

        <div class="question">
            <p>2. عقد التأمين هو عقد **غير ملزم للجانبين**، حيث يلتزم المؤمن فقط بأداء التعويض في حالة وقوع الخطر.</p>
            <p>التصحيح: **<input type="text" name="corr2" id="corr2">**</p>
            <div id="feedback_corr2" class="feedback" style="display:none;"></div>
        </div>

        <div class="question">
            <p>3. الكتابة في عقد التأمين ضرورية لـ **صحة الانعقاد**، ولا يجوز للطرفين الاتفاق صراحة على عدم الالتزام إلا عند دفع القسط الأول.</p>
            <p>التصحيح: **<input type="text" name="corr3" id="corr3">**</p>
            <div id="feedback_corr3" class="feedback" style="display:none;"></div>
        </div>

        <div class="question">
            <p>4. ينقسم التأمين من حيث موضوعه إلى تأمين تجاري وتأمين تعاوني.</p>
            <p>التصحيح: **<input type="text" name="corr4" id="corr4">**</p>
            <div id="feedback_corr4" class="feedback" style="display:none;"></div>
        </div>

        <div class="question">
            <p>5. مبدأ التعويض يطبق على عقود التأمين على **الحياة** وعلى الممتلكات جميعها.</p>
            <p>التصحيح: **<input type="text" name="corr5" id="corr5">**</p>
            <div id="feedback_corr5" class="feedback" style="display:none;"></div>
        </div>
        
        <button type="button" onclick="checkAnswers()">تحقق من الإجابات</button>
    </form>

    <div id="result"></div>
</div>

<script>
    const correctAnswers = {
        // اختر من متعدد
        mcq1: 'c', // عقد زمني
        mcq2: 'b', // تحقيق التضامن بين الأعضاء لتغطية الخسائر
        mcq3: 'd', // عقد احتمالي
        mcq4: 'b', // التأمين المختلط البسيط
        mcq5: 'b', // اعتماد المؤمن على صحة البيانات المحيطة بالخطر

        // أكمل الفراغ (الإجابات المقبولة)
        fill1: ['الخطر', 'هذا الخطر'],
        fill2: ['ملزم للجانبين', 'عقد ملزم للجانبين'],
        fill3: ['الأشياء', 'الممتلكات', 'الأضرار'],
        fill4: ['العامة', 'الشروط العامة'],
        fill5: ['الصالح الشخصي'],

        // تصحيح العبارات الخاطئة (الإجابات المقبولة)
        corr1: ['الربح'],
        corr2: ['ملزم للجانبين', 'عقد ملزم للجانبين'],
        corr3: ['الإثبات', 'إثبات'],
        corr4: ['الأضرار وتأمين الأشخاص', 'الأضرار والأشخاص'],
        corr5: ['الممتلكات', 'الأضرار', 'الممتلكات/الأضرار'],
    };

    function normalizeText(text) {
        // تنظيف النص: إزالة المسافات الزائدة، وتحويل إلى حروف صغيرة (للتأكد من تطابق النصوص اللاتينية لو استخدمت)، وإزالة التشكيل (لو استخدم).
        return text.trim().toLowerCase().replace(/[\s\/]/g, ' ').replace(/\s+/g, ' ');
    }

    function checkAnswers() {
        let score = 0;
        const totalQuestions = 15;
        const form = document.getElementById('quizForm');
        
        // إخفاء نتائج المحاولات السابقة
        document.querySelectorAll('.feedback').forEach(el => {
            el.style.display = 'none';
            el.className = 'feedback';
        });

        // 1. تحقق من أسئلة الاختيار من متعدد
        for (let i = 1; i <= 5; i++) {
            const qName = `mcq${i}`;
            const selected = form.elements[qName].value;
            const feedbackEl = document.getElementById(`feedback_${qName}`);
            feedbackEl.style.display = 'block';

            if (selected === correctAnswers[qName]) {
                score++;
                feedbackEl.textContent = 'إجابة صحيحة.';
                feedbackEl.classList.add('correct');
            } else {
                feedbackEl.textContent = `إجابة خاطئة. الإجابة الصحيحة هي: ${correctAnswers[qName].toUpperCase()}.`;
                feedbackEl.classList.add('incorrect');
            }
        }

        // 2. تحقق من أسئلة إكمال الفراغ
        for (let i = 1; i <= 5; i++) {
            const qName = `fill${i}`;
            const inputEl = document.getElementById(qName);
            const userAnswer = normalizeText(inputEl.value);
            const acceptedAnswers = correctAnswers[qName].map(normalizeText);
            const feedbackEl = document.getElementById(`feedback_${qName}`);
            feedbackEl.style.display = 'block';

            if (acceptedAnswers.includes(userAnswer) && userAnswer !== '') {
                score++;
                feedbackEl.textContent = 'إجابة صحيحة.';
                feedbackEl.classList.add('correct');
            } else {
                feedbackEl.textContent = `إجابة خاطئة. الإجابة الصحيحة هي: ${correctAnswers[qName].join(' / ')}.`;
                feedbackEl.classList.add('incorrect');
            }
        }

        // 3. تحقق من أسئلة تصحيح العبارات الخاطئة
        for (let i = 1; i <= 5; i++) {
            const qName = `corr${i}`;
            const inputEl = document.getElementById(qName);
            const userAnswer = normalizeText(inputEl.value);
            const acceptedAnswers = correctAnswers[qName].map(normalizeText);
            const feedbackEl = document.getElementById(`feedback_${qName}`);
            feedbackEl.style.display = 'block';

            if (acceptedAnswers.includes(userAnswer) && userAnswer !== '') {
                score++;
                feedbackEl.textContent = 'إجابة صحيحة.';
                feedbackEl.classList.add('correct');
            } else {
                feedbackEl.textContent = `إجابة خاطئة. الإجابة الصحيحة هي: ${correctAnswers[qName].join(' / ')}.`;
                feedbackEl.classList.add('incorrect');
            }
        }

        // عرض النتيجة النهائية
        const resultEl = document.getElementById('result');
        const percentage = (score / totalQuestions) * 100;
        
        resultEl.style.display = 'block';
        resultEl.innerHTML = `
            <h2>النتيجة النهائية</h2>
            <p>لقد أجبت على **${score}** سؤال بشكل صحيح من أصل ${totalQuestions} سؤال.</p>
            <p>نسبة النجاح: **${percentage.toFixed(2)}%**</p>
        `;

        // التمرير إلى النتيجة
        resultEl.scrollIntoView({ behavior: 'smooth' });
    }
</script>

</body>
</html>